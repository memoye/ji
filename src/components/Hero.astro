---
import { Image } from "astro:assets";
import profileImage from "../assets/images/profile.jpeg";
---

<section
  class="relative isolate bg-white pt-12 pb-12"
  aria-label="Introduction"
>
  <div
    class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80"
    aria-hidden="true"
  >
    <div
      class="relative left-[calc(50%-11rem)] aspect-1155/678 w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-linear-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"
    >
    </div>
  </div>

  <!-- Profile Image -->
  <div
    class="relative w-fit mx-auto flex justify-center items-center my-8 px-6 lg:px-8 animate-fade-up"
    style="animation-delay: 100ms;"
  >
    <!-- Reduce animation complexity on mobile -->
    <div
      class="absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-full opacity-20 md:blur-xl md:animate-pulse"
      style="will-change: opacity;"
    >
    </div>
    <div class="relative">
      <!-- Disable spin animation on mobile -->
      <div
        class="absolute -inset-1 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-full hidden md:block md:animate-spin"
        style="animation-duration: 10s; will-change: transform;"
      >
      </div>
      <!-- Add fixed dimensions and prevent layout shifts -->
      <figure
        class="relative rounded-full p-1 bg-white"
        style="width: min(300px, 80vw); height: min(300px, 80vw);"
      >
        <Image
          src={profileImage}
          class="w-full h-full object-cover rounded-full ring-1 ring-gray-100"
          width={300}
          height={300}
          quality={80}
          alt="Jessica Iwuala"
        />
      </figure>
    </div>
  </div>

  <div class="text-center mt-8 text-pretty px-6 lg:px-8">
    <div class="space-y-4">
      <h1
        class="text-5xl md:text-6xl font-extrabold tracking-tight text-balance bg-clip-text text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 animate-gradient-x animate-fade-up"
        style="animation-delay: 200ms;"
      >
        Jessica Iwuala
      </h1>

      <div
        class="flex items-center gap-3 justify-center text-gray-600 animate-fade-up"
        style="animation-delay: 300ms;"
      >
        <span
          class="h-px w-8 bg-gradient-to-r from-transparent via-pink-500 to-purple-500"
        ></span>
        <h2 class="font-medium tracking-wide uppercase text-sm">
          Digital Creator | Model
        </h2>
        <span
          class="h-px w-8 bg-gradient-to-r from-purple-500 via-pink-500 to-transparent"
        ></span>
      </div>

      <nav
        aria-label="Areas of specialization"
        class="animate-fade-up"
        style="animation-delay: 400ms;"
      >
        <ul
          class="font-light text-lg tracking-wide flex items-center justify-center gap-3 text-gray-700"
        >
          <li>Beauty</li>
          <li class="text-pink-500" aria-hidden="true">â€¢</li>
          <li>Fashion</li>
          <li class="text-pink-500" aria-hidden="true">â€¢</li>
          <li>Lifestyle</li>
        </ul>
      </nav>
    </div>
    <p
      class="text-lg max-w-xl mx-auto mt-4 mb-2 font-medium text-neutral-500 animate-fade-up"
      style="animation-delay: 500ms;"
    >
      Bringing Brands to Life Through Engaging Content & Authentic Influence!
    </p>

    <div
      class="mt-8 flex items-center justify-center gap-4 animate-fade-up"
      style="animation-delay: 600ms;"
    >
      <button
        id="whatsapp-btn"
        class="rounded-full px-6 py-3 text-sm font-semibold text-white transition-all bg-gradient-to-r from-pink-500 to-purple-500 border-0 hover:from-purple-500 hover:to-pink-500 flex items-center gap-2"
        onclick="togglecontactModal()"
      >
        <span>Let's Connect</span>
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
          <path
            d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"
          ></path>
        </svg>
      </button>
    </div>
  </div>
</section>

<script>
  const modal = document.getElementById("contact-modal");
  const whatsappBtn = document.getElementById("whatsapp-btn");
  const closeBtn = document.getElementById("close-modal");
  const contactForm = document.getElementById("contact-form");

  function toggleModal() {
    modal?.classList.toggle("hidden");
    document.body.classList.toggle("overflow-hidden");
  }

  whatsappBtn?.addEventListener("click", toggleModal);
  closeBtn?.addEventListener("click", toggleModal);

  // Close modal when clicking outside
  modal?.addEventListener("click", (e) => {
    if (e.target === modal) toggleModal();
  });

  // Handle form submission
  contactForm?.addEventListener("submit", (e) => {
    e.preventDefault();
    const nameInput = document.getElementById("name") as HTMLInputElement;
    const name = nameInput.value.trim();

    if (name) {
      const message = `Hi Jessica! ðŸ‘‹ I'm ${name}, and I'd love to discuss potential collaboration opportunities with you.`;
      const phoneNumber = "2348102363395";
      const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, "_blank", "noopener,noreferrer");
      toggleModal();
    }
  });

  // Close on escape key
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !modal?.classList.contains("hidden")) {
      toggleModal();
    }
  });
</script>
