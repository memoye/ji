---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Modal from "../components/Modal.astro";
import BackToTop from "../components/BackToTop.astro";
import "../styles/global.css";
import SchemaOrg from "../components/SchemaOrg.astro";

interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const {
  title = "Jessica Iwuala - Digital Creator & Model | Fashion & Lifestyle Content",
  description = "Digital creator and model specializing in fashion, beauty, and lifestyle content creation. Collaborate with me for authentic brand storytelling and engaging social media content.",
  image = "/social-image.jpg", // Add a default social image
} = Astro.props;

// Add fallback for when Astro.site is undefined
const canonicalURL = Astro.site
  ? new URL(Astro.url.pathname, Astro.site)
  : new URL(`https://iwualajessica.vercel.app${Astro.url.pathname}`);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="canonical" href={canonicalURL} />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonicalURL} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />

    <!-- Additional SEO -->
    <meta name="robots" content="index, follow" />
    <meta
      name="keywords"
      content="digital creator, fashion model, content creator, lifestyle influencer, brand collaboration, social media influencer, Nigerian influencer, Iwuala, Jessica Iwuala, Jessica Tiktok,"
    />
    <meta name="author" content="Jessica Iwuala" />

    <meta name="generator" content={Astro.generator} />
    <SchemaOrg />
  </head>

  <body class="flex scroll-smooth flex-col min-h-dvh bg-white text-gray-900">
    <Header />
    <slot />
    <Footer />
    <Modal id="contactModal" title="Let's Connect!">
      <form id="contact-form" class="space-y-4">
        <div>
          <label
            for="name"
            class="block text-sm font-medium text-gray-700 mb-1"
          >
            What should I call you?
          </label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
            placeholder="Your name"
          />
        </div>
        <div class="flex justify-end">
          <button
            type="submit"
            class="px-6 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-full text-sm font-semibold hover:from-purple-500 hover:to-pink-500 transition-all"
          >
            Continue to WhatsApp
          </button>
        </div>
      </form>
    </Modal>
    <BackToTop />
    <script>
      import { setupAnimations } from "../lib/utils";
      document.addEventListener("DOMContentLoaded", setupAnimations);
    </script>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>
